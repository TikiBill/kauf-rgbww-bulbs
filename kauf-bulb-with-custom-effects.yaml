substitutions:
  project_ver_let: w
  default_power_on_state: "Always On - Last Value"
  wifi_ap_timeout: 15s    # default to 15 second timeout for update bin file


packages:
  kauf_bulb_base: !include kauf-bulb.yaml


dashboard_import:
  package_import_url: github://KaufHA/kauf-rgbww-bulbs/kauf-bulb.yaml


esphome:
  name_add_mac_suffix: true


wifi:
  # add forced hash which isn't needed for dashboard import.
  # Allows saving wifi credentials across update.
  forced_hash: 2048874009

external_components:
  - source:
      type: local
      path: ./components


light:
  - id: !extend kauf_light
    #https://esphome.io/components/light/#light-effects
    effects:
      - flicker:
          alpha: 94%
          intensity: 12%
      - strobe:
      - pulse:
      - random:
      - candle:
          name: "Tealight - Calm Room"
          intensity: 10%
          flicker_transition_length: 100
          flicker_level_probabilities:
            - probability: 30%
            - probability: 10%
            - probability: 5%

      - candle:
          name: "Tealight - Breezy"
          intensity: 15%
          flicker_transition_length: 75

      - candle:
          name: "Candle - Calm"
          intensity: 10%

      # A candle with the values specified the default values.
      # and add in a two-color swing.
      - candle:
          name: "Candle with Defaults add Two Colors"
          intensity: 15%
          flicker_transition_length: 75
          flicker_intensity: 2.5%
          flicker_level_probabilities:
            # Three probabilities, so three levels (plus level zero which is implied).
            - probability: 50%
            - probability: 30%
            - probability: 8%
          number_flickers_config:
            # The first entry probability does not matter since
            # it is the default. This will have the light flickering
            # approximately 50% of the time.
            - number_flickers: 2
            - probability: 40%
              number_flickers: 4
            - probability: 20%
              number_flickers: 8
            - probability: 10%
              number_flickers: 10
            # When we get to level three, we want only
            # a single flicker.
            - force_at_level: 3
              number_flickers: 1
          colors:
            - red: 100%
              green: 56%
              blue: 24%
            - red: 100%
              green: 50%
              blue: 0%
          use_exponential_gradient: true

      # A fireplace with most of the default values specified and
      # add a color per level.
      - fireplace:
          name: "Fireplace with Defaults add Level Colors"
          intensity: 21%
          flicker_transition_length: 150
          flicker_intensity: 3.5%
          # The probabilities and flicker count config are the
          # same for the default candle example, so they are
          # excluded for brevity.
          colors:
              # Level 0
            - red: 100%
              green: 50%
              blue: 0%
              # Level 1
            - red: 100%
              green: 50%
              blue: 7%
              # Level 2
            - red: 100%
              green: 58%
              blue: 8%
              # Level 3
            - red: 100%
              green: 66%
              blue: 22%

      # Undulating Ooze
      - fireplace:
          name: "Lava"
          intensity: 21%
          flicker_transition_length: 500
          flicker_intensity: 3%
          number_flickers_config:
            - number_flickers: 2
            - number_flickers: 3
            - force_at_level: 3
              number_flickers: 1
          colors:
            - red: 100%
              green: 0%
              blue: 0%
            - red: 100%
              green: 35%
              blue: 0%
          use_exponential_gradient: false
          flicker_level_probabilities:
            - probability: 50%
            - probability: 30%
            - probability: 10%

      - candle:
          name: "Candle Test Breezy 50ms"
          intensity: 15%
          # flicker_intensity: 10%
          flicker_transition_length: 50

      - candle:
          name: "Candle Test Breezy 75ms"
          intensity: 15%
          # flicker_intensity: 10%
          flicker_transition_length: 75
          colors:
              # 255, 128, 18
            - red: 100%
              green: 50%
              blue: 7%
            - red: 100%
              green: 40%
              blue: 0%

      - candle:
          name: "Candle Test Breezy v2 75ms"
          intensity: 15%
          # flicker_intensity: 10%
          flicker_transition_length: 75
          flicker_level_probabilities:
            - probability: 40%
            - probability: 22%
            - probability: 8%
          colors:
            - red: 100%
              green: 56%
              blue: 24%
            - red: 100%
              green: 50%
              blue: 0%

      - candle:
          name: "Candle Test Breezy 100ms"
          intensity: 15%
          # flicker_intensity: 10%
          flicker_transition_length: 100

      - candle:
          name: "Candle - Breezy 150ms"
          intensity: 15%
          # flicker_intensity: 10%
          flicker_transition_length: 150

      - candle:
          name: "Candle Test Breezy 200ms"
          intensity: 15%
          # flicker_intensity: 10%
          flicker_transition_length: 200

      - candle:
          name: "Candle Test Breezy 250ms"
          intensity: 15%
          # flicker_intensity: 10%
          flicker_transition_length: 250

      - fireplace:
          name: "Fireplace Test Breezy 15"
          intensity: 21%
          flicker_transition_length: 150
          colors:
            - red: 100%
              green: 50%
              blue: 0%
              # 255, 159, 64
            - red: 100%
              green: 56%
              blue: 24%

      - fireplace:
          name: "Fireplace Test Breezy 21"
          intensity: 21%
          flicker_transition_length: 200
          colors:
              # 255, 128, 0
            - red: 100%
              green: 50%
              blue: 0%
              # 255, 128, 18
            - red: 100%
              green: 50%
              blue: 7%
              # 255, 150, 20
            - red: 100%
              green: 58%
              blue: 8%
              # 255, 159, 64
            - red: 100%
              green: 66%
              blue: 22%
          number_flickers_config:
            - probability: 40%
              number_flickers: 2
            - probability: 30%
              number_flickers: 4
            - probability: 20%
              number_flickers: 8
            - probability: 10%
              number_flickers: 10
            - force_at_level: 3
              number_flickers: 1
